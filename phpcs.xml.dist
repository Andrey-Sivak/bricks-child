<?xml version="1.0"?>
<ruleset xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="WordPress Coding Standards for Bricks Child Theme" xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/squizlabs/PHP_CodeSniffer/master/phpcs.xsd">

	<description>Coding standards for Bricks Child Theme</description>

	<!-- Avoid noisy deprecation notices from sniffs on newer PHP -->
	<ini name="error_reporting" value="E_ALL &amp; ~E_DEPRECATED" />

	<!-- Set text encoding -->
	<config name="encoding" value="utf-8"/>

	<!-- Show progress and use colors -->
	<arg value="ps"/>
	<arg name="colors"/>

	<!-- Check up to 20 files simultaneously -->
	<arg name="parallel" value="20"/>

	<!-- Check PHP files only -->
	<arg name="extensions" value="php"/>

	<!-- Scan these files and directories -->
	<file>.</file>

	<!-- Exclude patterns -->
	<exclude-pattern>/vendor/</exclude-pattern>
	<exclude-pattern>/node_modules/</exclude-pattern>
	<exclude-pattern>/assets/</exclude-pattern>
	<exclude-pattern>/build/</exclude-pattern>
	<exclude-pattern>/languages/</exclude-pattern>
	<exclude-pattern>*.js</exclude-pattern>
	<exclude-pattern>*.css</exclude-pattern>
	<exclude-pattern>*.scss</exclude-pattern>
	<exclude-pattern>*.json</exclude-pattern>
	<exclude-pattern>*.md</exclude-pattern>

	<!-- WordPress Coding Standards -->
	<rule ref="WordPress-Core"/>
	<rule ref="WordPress-Extra">
		<!-- Allow short array syntax -->
		<exclude name="Generic.Arrays.DisallowShortArraySyntax"/>
	</rule>
	<rule ref="WordPress-Docs"/>

	<!-- Enforce text domain for internationalization -->
	<rule ref="WordPress.WP.I18n">
		<properties>
			<property name="text_domain" type="array">
				<element value="bricks-child"/>
			</property>
		</properties>
	</rule>

	<!-- Enforce prefixing for globals/functions/classes/constants -->
	<rule ref="WordPress.NamingConventions.PrefixAllGlobals">
		<properties>
			<property name="prefixes" type="array">
				<element value="bricks_child"/>
				<element value="BRICKS_CHILD"/>
			</property>
		</properties>
		<exclude-pattern>functions.php</exclude-pattern>
	</rule>

	<!-- Check for correct file names -->
	<rule ref="WordPress.Files.FileName">
		<properties>
			<property name="strict_class_file_names" value="false"/>
		</properties>
		<!-- Exclude main theme files -->
		<exclude-pattern>functions.php</exclude-pattern>
		<exclude-pattern>style.css</exclude-pattern>
	</rule>

	<!-- Whitespace strictness -->
	<rule ref="WordPress.WhiteSpace.ControlStructureSpacing">
		<properties>
			<property name="blank_line_check" value="true"/>
		</properties>
	</rule>

	<!-- Check for proper escaping -->
	<rule ref="WordPress.Security.EscapeOutput"/>
	<rule ref="WordPress.Security.NonceVerification"/>
	<rule ref="WordPress.Security.ValidatedSanitizedInput"/>

	<!-- PHP Compatibility checks for WordPress -->
	<rule ref="PHPCompatibilityWP">
		<include-pattern>*\.php$</include-pattern>
	</rule>

	<!-- Configure PHPCompatibility -->
	<config name="testVersion" value="7.4-"/>
	<config name="minimum_wp_version" value="6.0"/>

	<!-- Allow short array syntax [] instead of array() -->
	<rule ref="Generic.Arrays.DisallowLongArraySyntax"/>

	<!-- Enforce spacing around concatenation operator -->
	<rule ref="Squiz.Strings.ConcatenationSpacing">
		<properties>
			<property name="spacing" value="1"/>
			<property name="ignoreNewlines" value="true"/>
		</properties>
	</rule>

</ruleset>